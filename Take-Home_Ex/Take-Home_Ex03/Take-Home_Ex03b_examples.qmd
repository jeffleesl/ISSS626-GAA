---
title: "Take Home Excerise 3b examples"
author: "Jeffrey Lee Shao Lin"
---

```{r}
pacman::p_load(tmap, SpatialAcc, sf, 
               ggstatsplot, reshape2,
               tidyverse)

```

```{r}

eldercare <- st_read(dsn = "data/HDB/rawdata", 
                     layer = "ELDERCARE") %>% 
  st_transform(crs = 3414)

```

```{r}

CHAS <- st_read("data/HDB/rawdata/CHASClinics.kml") %>% 
  st_transform(crs = 3414)

```

```{r}

buffer_1km <- st_buffer(eldercare,
                        dist = 1000)
```

```{r}

tmap_mode("view")
tm_shape(buffer_1km) +
  tm_polygons() +
tm_shape(CHAS) +
  tm_dots()
```

```{r}

buffer_1km$pts_count <- lengths(
  st_intersects(buffer_1km, CHAS))
```
